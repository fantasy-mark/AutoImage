#!/bin/sh
 
# 检查提交消息是否存在
if [ -z "$(git log -1 --pretty=%B)" ]; then
  echo "提交信息不能为空。" >&2
  exit 1
fi
 
# 检查提交消息是否符合规范，这里以"[JIRA-123] 提交描述"为例
if ! echo "$(git log -1 --pretty=%B)" | grep -qE '^\[[A-Za-z0-9]+\-[0-9]+\]'; then
  echo "提交描述必须以[JIRA-123]格式的标签开头。" >&2
  exit 1
fi
 
# 如果检查通过，则允许提交
exit 0